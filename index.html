<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>VolixyHub.cc</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{background:#0a001a;color:#e0c0ff;font-family:system-ui;overflow:hidden;height:100vh;position:relative;}
        canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;}
        #grid{padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:15px;height:100vh;overflow-y:auto;}
        .card{background:rgba(100,0,180,0.5);border-radius:15px;overflow:hidden;}
        iframe,video{width:100%;height:250px;border:none;}
        .title{padding:10px;color:#ff00ff;font-weight:bold;text-align:center;}
        
        /* PLUS BUTTON */
        #plus{position:fixed;bottom:20px;right:20px;background:#ff00ff;width:70px;height:70px;border-radius:50%;font-size:40px;color:white;border:none;box-shadow:0 0 50px #ff00ff;z-index:100;cursor:pointer;}
        
        /* DARK OVERLAY */
        #overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:99;}
        
        /* MODAL */
        #modal{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#200040;padding:30px;border-radius:20px;width:90%;max-width:400px;box-shadow:0 0 80px #ff00ff;z-index:100;}
        input,button{margin:10px 0;width:100%;padding:15px;border-radius:12px;border:none;font-size:16px;}
        button{background:#ff00ff;color:white;cursor:pointer;}
        button[onclick="closeModal()"]{background:#666;margin-top:5px;}
    </style>
</head>
<body>

<!-- FALLING SNOW BACKGROUND -->
<canvas></canvas>

<!-- PLUS BUTTON (bottom right) -->
<button id="plus" onclick="openModal()">+</button>

<!-- DARK OVERLAY -->
<div id="overlay" onclick="closeModal()"></div>

<!-- POST MOVIE POPUP -->
<div id="modal">
    <h2 style="color:#ff00ff;text-align:center;">Leak Movie</h2>
    <input type="text" id="name" placeholder="Movie name">
    <input type="url" id="url" placeholder="Vidify / YouTube / MP4 link">
    <button onclick="leak()">POST MOVIE</button>
    <button onclick="closeModal()">Cancel</button>
</div>

<!-- WHERE MOVIES APPEAR -->
<div id="grid"></div>

<script>
function openModal() {
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('modal').style.display = 'block';
}
function closeModal() {
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('modal').style.display = 'none';
    document.getElementById('name').value = '';
    document.getElementById('url').value = '';
}

function leak() {
    const name = document.getElementById('name').value.trim();
    const url = document.getElementById('url').value.trim();
    if (!name || !url) return alert("Fill both fields!");

    let player;
    if (url.includes('vidify.top')) {
        player = `<iframe src="${url}" allowfullscreen></iframe>`;
    } else if (url.includes('youtube.com') || url.includes('youtu.be')) {
        const embedUrl = url.replace('watch?v=', 'embed/').split('&')[0];
        player = `<iframe src="${embedUrl}" allowfullscreen></iframe>`;
    } else {
        player = `<video controls><source src="${url}"></video>`;
    }

    const card = `
        <div class="card">
            ${player}
            <div class="title">${name}</div>
        </div>
    `;

    document.getElementById('grid').insertAdjacentHTML('beforeend', card);
    closeModal();
}

// === PURPLE FALLING SNOW BACKGROUND ===
let c = document.querySelector("canvas");
let ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;
let particles = [];
for(let i = 0; i < 400; i++) {
    particles.push({
        x: Math.random() * c.width,
        y: Math.random() * c.height,
        r: Math.random() * 3 + 1,
        spd: Math.random() * 1.5 + 0.5
    });
}
function snow() {
    ctx.clearRect(0, 0, c.width, c.height);
    particles.forEach(p => {
        ctx.fillStyle = "rgba(255, 200, 255, 0.9)";
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fill();
        p.y += p.spd;
        if (p.y > c.height) p.y = -10;
    });
    requestAnimationFrame(snow);
}
snow();
</script>
</body>
</html>
